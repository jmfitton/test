<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shift Checklist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .checklist-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid rgba(229, 231, 235, 1); /* Tailwind gray-200 equivalent */
        }
        .checklist-item:last-child {
            border-bottom: none;
        }
        .check-input {
            margin-right: 0.75rem; /* Tailwind mr-3 equivalent */
            width: 1.25rem; /* Tailwind w-5 equivalent */
            height: 1.25rem; /* Tailwind h-5 equivalent */
        }
        .item-text {
            flex-grow: 1;
            margin-right: 0.75rem; /* Tailwind mr-3 equivalent */
            word-break: break-word;
            font-size: 0.875rem;  /* Tailwind text-sm - changed from default */
        }
        .comment-input {
            width: 100%;
            padding: 0.5rem;
            margin-top: 0.5rem;
            border-radius: 0.375rem; /* Tailwind rounded-md equivalent */
            border: 1px solid rgba(209, 213, 219, 1); /* Tailwind border-gray-300 equivalent */
            font-size: 0.875rem; /* Tailwind text-sm equivalent */
        }
        .comment-input:focus {
            outline: none;
            border-color: rgba(59, 130, 246, 1); /* Tailwind border-blue-500 equivalent */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15); /* Tailwind ring-blue-200 equivalent with opacity */
        }
        .actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 1rem;
        }
        .email-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* Tailwind rounded-md equivalent */
            background-color: rgba(59, 130, 246, 1); /* Tailwind bg-blue-500 equivalent */
            color: white;
            font-weight: 500; /* Tailwind font-medium equivalent */
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 0.875rem; /* Tailwind text-sm */
            margin-right: 0.75rem; /* Tailwind mr-3 */
        }
        .email-button:hover {
            background-color: rgba(43, 108, 204, 1); /* Tailwind bg-blue-700 equivalent */
        }
        .reset-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* Tailwind rounded-md equivalent */
            background-color: rgba(220, 38, 38, 1); /* Tailwind bg-red-500 equivalent */
            color: white;
            font-weight: 500; /* Tailwind font-medium equivalent */
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 0.875rem; /* Tailwind text-sm */
        }
        .reset-button:hover {
            background-color: rgba(194, 24, 24, 1); /* Tailwind bg-red-700 equivalent */
        }
        .form-field {
            margin-bottom: 1.5rem; /* Tailwind mb-6 equivalent */
        }
        .form-field label {
            display: block;
            font-size: 0.875rem; /* Tailwind text-sm equivalent */
            font-weight: 500; /* Tailwind font-medium equivalent */
            color: rgba(107, 114, 128, 1); /* Tailwind text-gray-500 equivalent */
            margin-bottom: 0.25rem; /* Tailwind mb-1 equivalent */
        }
        .form-field input {
            width: 100%;
            padding: 0.5rem;
            border-radius: 0.375rem; /* Tailwind rounded-md equivalent */
            border: 1px solid rgba(209, 213, 219, 1); /* Tailwind border-gray-300 equivalent */
            font-size: 0.875rem; /* Tailwind text-sm equivalent */
            transition: border-color 0.2s ease;
        }
        .form-field input:focus {
            outline: none;
            border-color: rgba(59, 130, 246, 1); /* Tailwind border-blue-500 equivalent */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15); /* Tailwind ring-blue-200 equivalent with opacity */
        }
        .title-container {
            text-align: center;
        }

        .main-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #4a5568;
        }

        .sub-title {
            font-size: 1rem;
            color: #718096;
        }

        @media print {
            .actions {
                display: none;
            }
            .comment-input {
                border: none;
                background-color: transparent;
                -webkit-print-color-adjust: exact;
                color: #000;
            }
            .comment-input:focus {
                outline: none;
                box-shadow: none;
            }
            body {
                font-size: 12pt;
            }
            .checklist-item {
                padding: 0.5rem 0;
            }
        }
    </style>
</head>
<body class="bg-gray-100"> <div class="mx-auto max-w-2xl bg-white rounded-lg shadow-md mt-8 mb-8 p-4"> <div class="title-container">
            <h1 class="main-title">Machine Utility</h1>
            <h2 class="sub-title">Shift Checklist & Operator Basic Care</h2>
        </div>

        <div class="form-field">
            <label for="date">Date:</label>
            <input type="date" id="date">
        </div>
        <div class="form-field">
            <label for="utilityName">Utility Name:</label>
            <input type="text" id="utilityName" placeholder="Enter utility name">
        </div>

        <div id="checklist-items">
            </div>
        <div class="actions">
            <button id="email-button" class="email-button">Email</button>
            <button id="reset-button" class="reset-button">Reset</button>
        </div>
    </div>

    <script>
        const checklistItems = [
            "Dry End Broke Pump (basement hallway) 722214",
            "White Water to Save All Pump (basement b/w Couch Pit & Wire Pit) 722101",
            "White Water to Showers Pump (basement b/w Couch pit & Wire Pit) 722102",
            "Seal Pit to Wire Pit Pump (basement b/w Couch Pit & Wire Pit) 722103",
            "#1 Couch Pit Broke Pump (basement b/w Couch pit & Wire Pit) 722104",
            "#2 Couch Pit Broke Pump (basement b/w Couch pit & Wire Pit) 722105",
            "Fan Pump (basement across from Visco Tanker) 712121",
            "New Machine Chest Pump (basement entrance of mill) 712163",
            "Secondary Cleaner Supply Pump (basement diagonal from tunnel) 712114",
             "Tertiary Cleaner Supply Pump (basement behind Secondary) 712115",
             "Quaternary Cleaner Supply Pump (basement behind Tertiary) 712117",
             "Thickened Stock Chest Pump (basement) 712152",
             "White Water to Dilution Pump (basement) 712118",
             "White Water Dilution to Kraft Pump (basement) 712165",
             "Screen Supply Pump (Kraft Pump) (basement) 712164",
             "Primary Cleaner Pump (basement behind Visco Tanker) 712180",
            "Clear White Water to Sydrapulper Pump (basement by Door #36) 712154",
            "#1 HD Tower Pump (chem prep) 712161",
            "#3 HD Tower Pump (chem prep) 712167",
            "Shower Booster Pump (basement line shaft) 722133",
            "Top Felt Shower Booster Pump (basement - line shaft) 722134",
            "Slusher Shower Booster Pump (Operating floor below Stock Prep Mezzanine) 712160",
            "Tertiary Cleaner Reject Line Flowing 715613",
            "Quaternary Cleaner Reject Line Flowing 715614",
            "RCC Reject Line Flowing 715615",
            "Rejects being dumped after what Cleaner",
            "Consumables Management - Discard used pallets & strapping",
            "Consumables Management - Bring in wrappers & wire",
            "Consumables Management - Empty bins",
            "Floor Below Conveyor - Wash Up",
            "Broke Pit Repulping - Pit & Conveyor clear of broke",
            "Frontside Cleanup - Pickup tramp material",
            "Frontside Cleanup - Empty garbage",
            "Frontside Cleanup - Sweep & hose floors",
            "Baling Wire Machine - Check if wire bale filled deposit in metal dumpster",
            "Baling Wire Machine - Check Divo Kleen Tote Level Replenish as necessary",
            "Baling Wire Machine - Fan Pump Trash Screen Clean Junk Trap",
            "Backside Cleanup - Pickup tramp material",
            "Backside Cleanup - Empty garbage barrels",
            "Backside Cleanup - Sweep & hose floors",
            "Layboy Cleanup - Sweep blow from tray back",
            "Layboy Cleanup - Pull out sheets",
            "Scanner Supply Filter - Check each Tour - Change as necessary (note date on new filters) Stores # 401615006537",
            "BALE LINE - Cleanup and sweep floor areas",
            "FLAKT DRYER AREA - Exhaust Screen Clean screen located on north wall in basement under Flakt",
            "FLAKT DRYER AREA - Supply Intake Screen Clean screen located on north wall on upper level of Flakt Dryer",
            "FLAKT DRYER AREA - Sheet Cutter Filter Check each Tour - Change as necessary (note date on monthly shear) Stores # 401615000377",
            "FLAKT DRYER AREA - Backside Cleanup Pickup tramp material",
            "FLAKT DRYER AREA - Empty garbage barrels",
            "FLAKT DRYER AREA - Sweep & hose floors",
            "Flakt Lint Screen Cleaning - North Bottom",
            "Flakt Lint Screen Cleaning - North - Top",
            "Flakt Lint Screen Cleaning - South Bottom",
            "Flakt Lint Screen Cleaning - South - Top",
            "MACHINE OPERATING FLOOR - Frontside Cleanup Pickup tramp material",
            "MACHINE OPERATING FLOOR - Frontside Cleanup Empty garbage barrels",
            "MACHINE OPERATING FLOOR - Frontside Cleanup Sweep & hose floors",
            "MACHINE OPERATING FLOOR - Backside Cleanup Pickup tramp material",
            "MACHINE OPERATING FLOOR - Backside Cleanup Empty garbage barrels",
            "MACHINE OPERATING FLOOR - Backside Cleanup Sweep & hose floors",
            "MACHINE OPERATING FLOOR - Wet End Supply Filters Check each Tour Change as necessary (note date on new filters ) Stores # 401615000283",
            "STOCK PREPARATION - ALL AREAS - Online Primary Screen Clean Junk Trap Note any plugging or abnormal amount of debris",
            "STOCK PREPARATION - ALL AREAS - Secondary Screen Clean Junk Trap Note any plugging or abnormal amount of debris",
            "STOCK PREPARATION - ALL AREAS - Thickener Oscillating Shower Bar Filters Check each Tour Change as necessary (note date on new filters) Stores # 401615000561",
            "STOCK PREPARATION - ALL AREAS - Floor Cleanup Pickup tramp material",
            "STOCK PREPARATION - ALL AREAS - Floor Cleanup Sweep & hose floors",
            
            // Add your custom items here, for example:
            // "Check the emergency exits are clear.",
            // "Verify all lights are working.",
        ];

        const checklistContainer = document.getElementById('checklist-items');
        const emailButton = document.getElementById('email-button');
        const resetButton = document.getElementById('reset-button');
        const dateInput = document.getElementById('date');
        const utilityNameInput = document.getElementById('utilityName');

        //  CHANGE THIS EMAIL ADDRESS
        const recipientEmail = "mat.fitton@gmail.com";  // Replace with the desired email address

        function generateChecklist() {
            checklistContainer.innerHTML = ''; // Clear previous checklist
            checklistItems.forEach((item, index) => {
                const listItem = document.createElement('div');
                listItem.className = 'checklist-item';

                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'check-input';
                checkbox.id = `item-${index}`;

                const label = document.createElement('label');
                label.className = 'item-text';
                label.textContent = item;
                label.setAttribute('for', `item-${index}`);

                const commentInput = document.createElement('textarea');
                commentInput.className = 'comment-input';
                commentInput.placeholder = 'Comments...';
                commentInput.id = `comment-${index}`;

                listItem.appendChild(checkbox);
                listItem.appendChild(label);
                listItem.appendChild(commentInput);
                checklistContainer.appendChild(listItem);
            });
            loadSavedChecklist(); // Load saved state after generating
        }

        function sendChecklistByEmail() {
            const checklistData = [];
            checklistItems.forEach((_, index) => {
                const checkbox = document.getElementById(`item-${index}`);
                const commentInput = document.getElementById(`comment-${index}`);
                checklistData.push({
                    checked: checkbox.checked,
                    comment: commentInput.value
                });
            });
            const date = dateInput.value;
            const utilityName = utilityNameInput.value;

            const subject = "Shift Checklist";
            // const body = `Date: ${date}\nUtility Name: ${utilityName}\n\nChecklist Data:\n${JSON.stringify(checklistData, null, 2)}`;
            // const recipient = recipientEmail; // Use the variable defined earlier

            // Use a mailto: link, which is the most reliable cross-platform way to open an email client.
            // const mailtoUrl = `mailto:${recipient}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;

            // window.location.href = mailtoUrl; // Open the user's default email client
            // alert('Opening email client...');

            let emailBody = `
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Shift Checklist</title>
                    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
                    <style>
                      body {
                        font-family: 'Inter', sans-serif;
                        color: #333;
                        margin: 0;
                        padding: 0;
                      }
                      .container {
                        max-width: 800px;
                        margin: 20px auto;
                        padding: 20px;
                        background-color: #fff;
                        border-radius: 8px;
                        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                      }
                      h1 {
                        font-size: 24px;
                        color: #2c3e50;
                        margin-bottom: 20px;
                        text-align: center;
                      }
                      h2{
                        font-size: 18px;
                        color: #34495e;
                        margin-bottom: 15px;
                        text-align: center;
                      }
                      .form-field {
                        margin-bottom: 15px;
                      }
                      .form-field label {
                        display: block;
                        font-size: 16px;
                        font-weight: 500;
                        color: #7f8c8d;
                        margin-bottom: 5px;
                      }
                      .checklist-item {
                        display: flex;
                        align-items: center;
                        padding: 10px 0;
                        border-bottom: 1px solid #ecf0f1;
                      }
                      .checklist-item:last-child {
                        border-bottom: none;
                      }
                      .check-input {
                        margin-right: 10px;
                        width: 20px;
                        height: 20px;
                      }
                      .item-text {
                        flex-grow: 1;
                        font-size: 16px;
                        color: #2c3e50;
                      }
                      .comment-input {
                        width: 100%;
                        padding: 10px;
                        margin-top: 5px;
                        border-radius: 5px;
                        border: 1px solid #bdc3c7;
                        font-size: 14px;
                      }
                    </style>
                </head>
                <body>
                  <div class="container">
                    <h1>Machine Utility</h1>
                    <h2>Shift Checklist & Operator Basic Care</h2>
                    <div class="form-field">
                        <label>Date:</label>
                        <div>${date}</div>
                    </div>
                    <div class="form-field">
                        <label>Utility Name:</label>
                        <div>${utilityName}</div>
                    </div>
                    <div>
            `;

            checklistData.forEach(item => {
                emailBody += `
                        <div class="checklist-item">
                            <input type="checkbox" class="check-input" ${item.checked ? 'checked' : ''}>
                            <span class="item-text">${checklistItems[checklistData.indexOf(item)]}</span>
                            <p>Comments: ${item.comment}</p>
                        </div>
                `;
            });

            emailBody += `
                    </div>
                  </div>
                </body>
                </html>
            `;

            const mailtoUrl = `mailto:${recipientEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(emailBody)}`;
            window.location.href = mailtoUrl;
            alert('Opening email client...');
        }

        function loadSavedChecklist() {
            const savedChecklist = localStorage.getItem('shiftChecklist');
            const savedDate = localStorage.getItem('shiftChecklistDate');
            const savedName = localStorage.getItem('shiftChecklistName');

            if (savedChecklist) {
                const checklistData = JSON.parse(savedChecklist);
                checklistData.forEach((item, index) => {
                    const checkbox = document.getElementById(`item-${index}`);
                    const commentInput = document.getElementById(`comment-${index}`);
                    if (checkbox) {
                        checkbox.checked = item.checked;
                    }
                    if (commentInput) {
                        commentInput.value = item.comment;
                    }
                });
            }
            if (savedDate) {
                dateInput.value = savedDate;
            }
            if (savedName) {
                utilityNameInput.value = savedName;
            }
        }

        function resetChecklist() {
            checklistItems.forEach((_, index) => {
                const checkbox = document.getElementById(`item-${index}`);
                const commentInput = document.getElementById(`comment-${index}`);
                if (checkbox) {
                    checkbox.checked = false;
                }
                if (commentInput) {
                    commentInput.value = '';
                }
            });
            dateInput.value = '';
            utilityNameInput.value = '';
            localStorage.removeItem('shiftChecklist');
            localStorage.removeItem('shiftChecklistDate');
            localStorage.removeItem('shiftChecklistName');
            alert('Checklist reset!');
        }

        emailButton.addEventListener('click', sendChecklistByEmail);
        resetButton.addEventListener('click', resetChecklist);

        generateChecklist();

    </script>
</body>
</html>
